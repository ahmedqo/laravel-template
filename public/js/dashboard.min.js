const donut=$query("#donut"),chart=$query("#chart"),loaders=$queryAll(".loader"),ldonut=$query(".donut-loader"),lchart=$query(".chart-loader"),visual=$query("neo-datavisualizer"),counts=JSON.parse($query("meta[name=count]").content);loaders.forEach((e,r)=>{setTimeout(()=>{e.remove()},250+200*r)}),visual.refs.wrapper.style.background=Neo.Helper.Theme.colors("LIGHT"),visual.addEventListener("change:loading",e=>{visual.refs.wrapper.style.background=e.detail.data?Neo.Helper.Theme.colors("LIGHT"):""}),new Chart(donut,{type:"line",data:{labels:[$trans("Completed"),$trans("Pending")],datasets:[{data:counts,borderWidth:1,backgroundColor:["#22C55E","#EC4899"],borderColor:["#22C55E","#EC4899"]},]},options:{responsive:!0,plugins:{legend:{display:!1}},animation:{onComplete(){ldonut.remove()}}}}),(async()=>{let e=await getData($routes.chart);e.keys=e.keys.map(e=>$trans(e)),new Chart(chart,{data:{labels:e.keys,datasets:[{order:2,type:"bar",borderWidth:2,data:e.values,backgroundColor:"#22C55E",borderColor:"#22C55E"},{type:"line",borderWidth:2,data:[...e.values].reverse(),backgroundColor:"#EC4899",borderColor:"#EC4899"},]},options:{responsive:!0,plugins:{legend:{display:!1}},animation:{onComplete(){lchart.remove()}}}})})(),TableVisualizer(visual,()=>[{name:"product",text:$trans("Product"),bodyRender:e=>$capitalize(e.product),bodyPdfRender:function(e){return this.bodyRender(e)},bodyCsvRender:function(e){return this.bodyRender(e)}},{name:"orders",text:$trans("Orders"),headStyle:{width:120,textAlign:"center"},bodyStyle:{width:120,textAlign:"center"},headPdfStyle:function(){return this.headStyle},bodyPdfStyle:function(){return this.bodyStyle},bodyRender:e=>$money(e.orders,3),bodyPdfRender:function(e){return this.bodyRender(e)},bodyCsvRender:function(e){return this.bodyRender(e)}}]);